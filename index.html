<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Lernspiel – Schwimmende Fische</title>
<style>
  body {
    margin: 0;
    background: url('https://i.postimg.cc/vHq7yj3X/8-C614-C9-A-8-E6-208-F0-C7-CC7-C9.png') no-repeat center center fixed;
    background-size: cover;
    overflow: hidden;
    font-family: sans-serif;
  }

  #speaker {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
    width: 50px;
    height: 50px;
    fill: white;
    transition: fill 0.2s;
    z-index: 10;
  }

  #speaker:hover {
    fill: yellow;
  }

  .fish {
    position: absolute;
    width: 100px;
    will-change: transform, left, top;
    transition: filter 0.3s;
  }
</style>
</head>
<body>

<!-- Lautsprecher-Icon -->
<svg id="speaker" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3a4.5 4.5 0 0 0-2.12-3.84l-1.42 1.42A2.5 2.5 0 0 1 15.5 12a2.5 2.5 0 0 1-2.54 2.42l1.42 1.42A4.5 4.5 0 0 0 16.5 12zm4 0a8.5 8.5 0 0 0-4-7.32l-1.42 1.42A6.5 6.5 0 0 1 18.5 12a6.5 6.5 0 0 1-3.42 5.58l1.42 1.42A8.5 8.5 0 0 0 20.5 12z"/>
</svg>

<!-- Audio -->
<audio id="fishSound" src="sound.mp3"></audio>

<script>
const fishImgUrl = "https://i.postimg.cc/QM2Gy02d/21-F6-B391-3-DF7-401-E-A8-E6-208-F0-C7-CC7-C9.png";
const numFish = 5;
const fishes = [];

// Zufällige Farbe generieren
function randomHue() {
  return Math.floor(Math.random() * 360);
}

// Fische erzeugen
for (let i = 0; i < numFish; i++) {
  let fish = document.createElement("img");
  fish.src = fishImgUrl;
  fish.classList.add("fish");

  // Startwerte
  let startFromLeft = Math.random() > 0.5;
  let hue = randomHue();

  fish.style.filter = `hue-rotate(${hue}deg)`;
  fish.style.transform = startFromLeft ? "scaleX(1)" : "scaleX(-1)";

  fish.style.top = Math.random() * (window.innerHeight - 150) + "px";
  fish.style.left = startFromLeft ? "-120px" : window.innerWidth + 120 + "px";

  fishes.push({
    el: fish,
    x: startFromLeft ? -120 : window.innerWidth + 120,
    y: parseFloat(fish.style.top),
    dx: startFromLeft ? (Math.random() * 1.5 + 0.5) : -(Math.random() * 1.5 + 0.5),
    hue: hue,
    fromLeft: startFromLeft
  });

  document.body.appendChild(fish);
}

// Bewegung
function moveFish() {
  fishes.forEach(f => {
    f.x += f.dx;

    // Falls aus dem Bildschirm raus
    if ((f.dx > 0 && f.x > window.innerWidth + 150) || (f.dx < 0 && f.x < -150)) {
      // Neue Richtung und Farbe
      f.fromLeft = !f.fromLeft;
      f.dx = f.fromLeft ? (Math.random() * 1.5 + 0.5) : -(Math.random() * 1.5 + 0.5);
      f.hue = randomHue();
      f.el.style.filter = `hue-rotate(${f.hue}deg)`;
      f.el.style.transform = f.fromLeft ? "scaleX(1)" : "scaleX(-1)";
      f.y = Math.random() * (window.innerHeight - 150);
      f.x = f.fromLeft ? -120 : window.innerWidth + 120;
    }

    // Position setzen
    f.el.style.left = f.x + "px";
    f.el.style.top = f.y + "px";
  });

  requestAnimationFrame(moveFish);
}
moveFish();

// Lautsprecher → Sound
document.getElementById("speaker").addEventListener("click", () => {
  const audio = document.getElementById("fishSound");
  audio.currentTime = 0;
  audio.play();
});
</script>

</body>
</html>
